# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å DeepSeek API

## –ü—Ä–æ–±–ª–µ–º–∞: "–ü–ª–∞–Ω —É—Ö–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω"

–ï—Å–ª–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è –≤—ã –≤–∏–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
```
Hibernate: SELECT * FROM care_plans WHERE input_parameters->>'culture' = ? AND input_parameters->>'region' = ? AND input_parameters->>'garden_type' = ?
```

–ò –Ω–µ –≤–∏–¥–∏—Ç–µ –ª–æ–≥–æ–≤ –æ—Ç DeepSeek API, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ:

### 1. DeepSeek API –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ù–µ—Ç –ª–æ–≥–æ–≤ —Å —ç–º–æ–¥–∑–∏ üå±, üîÑ, ‚úÖ
- –û—à–∏–±–∫–∞: "DeepSeek API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
$env:DEEPSEEK_API_KEY="your_api_key_here"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
.\gradlew bootRun
```

### 2. API –∫–ª—é—á –Ω–µ–≤–µ—Ä–Ω—ã–π

**–°–∏–º–ø—Ç–æ–º—ã:**
- –õ–æ–≥–∏: "üîë API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫: ..."
- –û—à–∏–±–∫–∞: "401 Unauthorized" –∏–ª–∏ "403 Forbidden"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á –Ω–∞ [DeepSeek Platform](https://platform.deepseek.com/)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω –∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞

### 3. –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- –õ–æ–≥–∏: "üîÑ –ü–æ–ø—ã—Ç–∫–∞ 1/3 –∑–∞–ø—Ä–æ—Å–∞ –∫ DeepSeek API..."
- –û—à–∏–±–∫–∞: "Read timeout" –∏–ª–∏ "Connect timeout"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ `application.properties`:
   ```properties
   deepseek.api.timeout=120000  # 2 –º–∏–Ω—É—Ç—ã
   deepseek.api.retry-delay=5000  # 5 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π API –∫–ª—é—á

### 4. –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON

**–°–∏–º–ø—Ç–æ–º—ã:**
- –õ–æ–≥–∏: "‚úÖ –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç DeepSeek API –∑–∞ XXX–º—Å"
- –û—à–∏–±–∫–∞: "–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –æ—Ç–≤–µ—Ç–∞ –æ—Ç DeepSeek"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç API
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π JSON
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–º—Ç –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å API
```bash
curl http://localhost:8080/api/deepseek/status
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "available": true,
  "message": "DeepSeek API –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é"
}
```

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å
```bash
curl -X POST "http://localhost:8080/api/deepseek/test?culture=–ü–æ–º–∏–¥–æ—Ä&region=–ú–æ—Å–∫–æ–≤—Å–∫–∞—è%20–æ–±–ª–∞—Å—Ç—å&gardenType=–û—Ç–∫—Ä—ã—Ç—ã–π%20–≥—Ä—É–Ω—Ç"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–ª–∞–Ω–æ–≤
```bash
curl http://localhost:8080/api/care-plans/stats
```

## –õ–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

–ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ –≤—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ª–æ–≥–∏:

```
üîç –ü–æ–∏—Å–∫ –ø–ª–∞–Ω–∞ —É—Ö–æ–¥–∞ –¥–ª—è: –ü–æ–º–∏–¥–æ—Ä –≤ —Ä–µ–≥–∏–æ–Ω–µ –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (–û—Ç–∫—Ä—ã—Ç—ã–π –≥—Ä—É–Ω—Ç)
‚ùå –ü–ª–∞–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
ü§ñ DeepSeek API –¥–æ—Å—Ç—É–ø–µ–Ω, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –Ω–æ–≤—ã–π –ø–ª–∞–Ω...
üå± –ó–∞–ø—Ä–æ—Å –ø–ª–∞–Ω–∞ —É—Ö–æ–¥–∞ –¥–ª—è: –ü–æ–º–∏–¥–æ—Ä –≤ —Ä–µ–≥–∏–æ–Ω–µ –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (–û—Ç–∫—Ä—ã—Ç—ã–π –≥—Ä—É–Ω—Ç)
üîÑ –ü–æ–ø—ã—Ç–∫–∞ 1/3 –∑–∞–ø—Ä–æ—Å–∞ –∫ DeepSeek API...
üîë API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫: https://api.deepseek.com/v1/chat/completions
üìù –î–ª–∏–Ω–∞ –ø—Ä–æ–º—Ç–∞: 2847 —Å–∏–º–≤–æ–ª–æ–≤
üöÄ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º HTTP POST –∑–∞–ø—Ä–æ—Å...
üì° –ü–æ–ª—É—á–µ–Ω HTTP –æ—Ç–≤–µ—Ç: 200 OK
‚úÖ –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç DeepSeek API –∑–∞ 15432–º—Å
üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–π –ø–ª–∞–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö...
‚úÖ –ü–ª–∞–Ω —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Å ID: 123e4567-e89b-12d3-a456-426614174000
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤

–î–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —É–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã:

```properties
# –í application.properties
deepseek.api.timeout=120000        # 2 –º–∏–Ω—É—Ç—ã
deepseek.api.max-retries=5         # 5 –ø–æ–ø—ã—Ç–æ–∫
deepseek.api.retry-delay=3000      # 3 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
```

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. "API –∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DEEPSEEK_API_KEY`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### 2. "Read timeout"
- –£–≤–µ–ª–∏—á—å—Ç–µ `deepseek.api.timeout`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### 3. "401 Unauthorized"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω

### 4. "403 Forbidden"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ API
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞

### 5. "–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç API
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–º—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

## –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [DeepSeek Platform](https://platform.deepseek.com/)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "API Keys"
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API –Ω–∞ —Å–∞–π—Ç–µ DeepSeek
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π API –∫–ª—é—á
