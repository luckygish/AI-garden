# Быстрый старт

## Проблема: "План ухода не найден"

Если при добавлении нового растения вы получаете ошибку:
```
План ухода для культуры 'X' в регионе 'Y' для типа посадки 'Z' не найден в базе данных. DeepSeek API недоступен для создания нового плана.
```

Это означает, что:
1. План ухода для данных параметров отсутствует в базе данных
2. DeepSeek API не настроен для создания нового плана

## Решение

### Вариант 1: Настроить DeepSeek API (рекомендуется)

1. **Получите API ключ:**
   - Перейдите на [DeepSeek Platform](https://platform.deepseek.com/)
   - Зарегистрируйтесь и создайте API ключ

2. **Настройте переменную окружения:**
   ```bash
   # Windows PowerShell
   $env:DEEPSEEK_API_KEY="your_api_key_here"
   
   # Windows Command Prompt
   set DEEPSEEK_API_KEY=your_api_key_here
   
   # Linux/macOS
   export DEEPSEEK_API_KEY="your_api_key_here"
   ```

3. **Перезапустите приложение**

### Вариант 2: Добавить план вручную

Если у вас есть JSON файл с планом ухода, используйте `BatchPlanLoader`:

```bash
# Запустите BatchPlanLoader для загрузки JSON файлов
java -cp build/classes/java/main newloader.BatchPlanLoader
```

### Вариант 3: Проверить существующие планы

Проверьте, какие планы уже есть в базе данных:

```bash
# Проверить статистику
curl http://localhost:8080/api/care-plans/stats

# Проверить существование конкретного плана
curl "http://localhost:8080/api/care-plans/exists?culture=Помидор&region=Московская%20область&gardenType=Открытый%20грунт"
```

## Тестирование

После настройки DeepSeek API протестируйте:

```bash
# Проверить статус API
curl http://localhost:8080/api/deepseek/status

# Протестировать создание плана
curl -X POST "http://localhost:8080/api/deepseek/test?culture=Помидор&region=Московская%20область&gardenType=Открытый%20грунт"
```

## Логика работы

1. **При добавлении растения:**
   - Система ищет план ухода в базе данных
   - Если план найден → использует его
   - Если план не найден → запрашивает у DeepSeek API
   - Сохраняет новый план в базу данных для будущего использования

2. **Кэширование:**
   - Планы автоматически кэшируются в базе данных
   - Повторные запросы с теми же параметрами используют кэш
   - Это экономит время и деньги на API запросах

## Поддерживаемые культуры

Система поддерживает любые культуры, но для лучших результатов используйте:
- Помидор, Огурец, Перец, Баклажан
- Капуста, Морковь, Свекла, Лук
- Картофель, Редис, Салат, Укроп
- Петрушка, Базилик, Мята, Розмарин
- Клубника, Малина, Смородина, Виноград
- Яблоня, Груша, Слива, Вишня

## Регионы

Поддерживаются все регионы России, включая:
- Московская область
- Приволжский федеральный округ
- Центральный федеральный округ
- И другие регионы РФ
